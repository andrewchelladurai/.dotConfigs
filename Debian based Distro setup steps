# =========================================
For Ubuntu Based Distros (KDE Specific)
Preferred Distro : KDE Neon / KaOS / Arch running LXQT
# =========================================

# Remove all the unnecesary packages before you start to avoid downloading their updates.

# Make links to actual content directories in a separate partition
rmdir Documents/ Downloads/ Pictures/ Videos/ Music/
ln -s /media/$(whoami)/Data/Documents/ Documents
ln -s /media/$(whoami)/Data/Downloads/ Downloads
ln -s /media/$(whoami)/Data/Volatile/ Volatile
ln -s /media/$(whoami)/Media/Music/ Music
ln -s /media/$(whoami)/Media/Pictures/ Pictures
ln -s /media/$(whoami)/Media/Movies/ Videos

# This is so that PPA repositories can be installed
sudo apt install software-properties-common

# This is for Google Chrome
wget -q -O - https://dl.google.com/linux/linux_signing_key.pub | sudo apt-key add -
sudo sh -c 'echo "deb http://dl.google.com/linux/chrome/deb/ stable main" >> /etc/apt/sources.list.d/google-chrome.list'

# This is for Java
sudo add-apt-repository ppa:webupd8team/java
sudo dpkg --add-architecture i386

# This is for Enpass.io (Password manager)
sudo sh -c 'echo "deb http://repo.sinew.in/ stable main" >> /etc/apt/sources.list.d/enpass.list'
wget -O - http://repo.sinew.in/keys/enpass-linux.key | sudo apt-key add -

# PPAs for Papirus Icon Pack : https://github.com/PapirusDevelopmentTeam/papirus-icon-theme
sudo add-apt-repository ppa:papirus/papirus

# For Hardcode Tray Icon Fixes : https://github.com/bilelmoussaoui/Hardcode-Tray
sudo add-apt-repository ppa:andreas-angerer89/sni-qt-patched

# Update + Upgrade the system
sudo apt update && sudo apt upgrade -y && sudo apt autoremove -y

# Download and Install the Debian 64bit version of Unified Remote Server
wget https://www.unifiedremote.com/download/linux-x64-deb ; sudo dpkg --install linux-x64-deb

# Install necessary apps
sudo apt install -y ktorrent kompare netbeans qemu-kvm libvirt-bin ubuntu-vm-builder bridge-utils kubuntu-restricted-extras oracle-java8-installer libncurses5:i386 libstdc++6:i386 zlib1g:i386 git vlc virtualbox virtualbox-guest-additions-iso kget sqlite filelight gimp google-chrome-stable yakuake enpass redshift inkscape digikam amarok libreoffice

# Install Look and Feel related apps
sudo apt install --install-recommends adapta-kde arc-kde
sudo apt install -y sni-qt sni-qt:i386 hardcode-tray papirus-icon-theme

# This is for a Wifi Card Bug on HP Pavilion Notebook AB219TX (N8L68PA#ACJ)
sudo sh -c 'echo "options rtl8723be fwlps=0 swlps=0 ips=0 ant_sel=1" >> /etc/modprobe.d/rtl8723be.conf'

# Disable Bluetooth Auto-Start
Enter "rfkill block bluetooth" in "/etc/rc.local" 

# Alias for frequently used commands
alias upgradesys='sudo apt update && sudo apt upgrade -y && sudo apt autoremove -y'
alias restartNMW='sudo systemctl restart network-manager'
alias restartNMCli='nmcli networking off ; sleep 10 ; nmcli networking on'

# Fix Hardcoded Icons using : https://github.com/Foggalong/hardcode-fixer
wget https://raw.githubusercontent.com/Foggalong/hardcode-fixer/master/fix.sh ; sudo bash fix.sh

# For Android AVD emulation performance
sudo adduser $(whoami) kvm && sudo adduser $(whoami) libvirtd

# For bug that shows the extra user on the login screen
sudo usermod -u 999 libvirt-qemu

# To fix Hardcoded System Tray Icons
sudo -E hardcode-tray --conversion-tool RSVGConvert --size 22 --theme Papirus

# For manually mounting HDD's by label - Use this in the user profile if needed
udisksctl mount -b /dev/disk/by-label/Data

##
# The following lines are for setting up a Android phone after a reset / ROM flash
# These set Secure privileges on applications.
##

# Give Greenify special rights to do it's magic
# Restart Greenify once for the rights to take effect
adb shell pm grant com.oasisfeng.greenify android.permission.WRITE_SECURE_SETTINGS
adb shell pm grant com.oasisfeng.greenify android.permission.GET_APP_OPS_STATS
adb shell pm grant com.oasisfeng.greenify android.permission.READ_LOGS
adb shell pm grant com.oasisfeng.greenify android.permission.DUMP
adb shell am force-stop com.oasisfeng.greenify

# Give Tasker & AutoApps the rights it deserves and needs
adb shell pm grant net.dinglisch.android.taskerm android.permission.WRITE_SECURE_SETTINGS
adb shell pm grant com.joaomgcd.autotools android.permission.WRITE_SECURE_SETTINGS

# Make XDA Navigation Gestures useful
adb shell pm grant com.xda.nobar android.permission.WRITE_SECURE_SETTINGS
